{"version":3,"sources":["worker.js","index.js"],"names":["addMethods","methods","module","exports","w","Worker","name","Button","props","playElement","icon","faPlay","stopElement","faStop","className","onClick","value","Slider","type","id","min","minTempo","max","maxTempo","step","tempo","onChange","SettingsButton","classes","isMenuOpen","Canvas","state","canvasRef","React","createRef","resetCanvas","bind","window","onorientationchange","onresize","this","drawCanvas","current","width","innerWidth","height","innerHeight","scrollTo","canvas","ctx","getContext","color","fillStyle","globalAlpha","fillRect","isplaying","percentage","nbt","currenttime","tick","console","log","strokeStyle","beginPath","lineWidth","arc","Math","PI","stroke","ref","Component","Animation","lastNoteDrawn","alpha","percentToNextNote","nextNoteTime","updateAnimation","rAF","requestAnimationFrame","currentTime","audiocontext","notesInQueue","queue","currentNote","length","time","splice","setState","cancelAnimationFrame","curBeat","bpb","nextnotetime","TempoInputs","RadioButton","radioElement","default","defaultChecked","htmlFor","Spinner","label","Metronome","beatsPerBar","maxBeats","minBeats","clicksPerBeat","maxClicks","minClicks","nextBeat","nextBeatTime","nextClick","isPlaying","lookahead","scheduleAheadTime","noteLength","audioUnlocked","noteQueue","handleChange","handleClick","handleTick","AudioContext","webkitAudioContext","audioContext","timerWorker","worker","onmessage","e","data","postMessage","note","osc","createOscillator","gainNode","createGain","connect","destination","beat","frequency","click","start","gain","setTargetAtTime","stop","nextNote","Note","secondsPerBeat","nextBT","scheduleNote","concat","document","getElementById","classList","remove","offsetWidth","add","target","buffer","createBuffer","node","createBufferSource","fadeAnimation","nextClicks","parseInt","nextBeats","nextTempo","Navbar","MobileMenu","faCheck","size","href","App","colorHighlight","updateColors","col","colHighlight","root","documentElement","style","setProperty","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b5d17bbe.chunk.js","sourcesContent":["\n\t\t\t\tvar addMethods = require(\"../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = []\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"70cb1035e7398c59599d.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n//import worker from \"./worker.js\";\nimport worker from 'workerize-loader!./worker' // eslint-disable-line import/no-webpack-loader-syntax\n\nimport './App.css';\n\n// get our fontawesome imports\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\nimport { faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport {faEllipsisV} from \"@fortawesome/free-solid-svg-icons\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons\";\n\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n//import Metronome from './App';\n\n\n\n\n\n/***\n * \n * INPUTS\n * \n */\n\n\nfunction Button(props) {\n  const playElement = <FontAwesomeIcon icon={faPlay} />;\n  const stopElement = <FontAwesomeIcon icon={faStop} />;\n  return (\n    <button \n      className=\"button-play\" \n      onClick={props.onClick}\n      name=\"play-button\"\n    >\n      {props.value === \"Start\" ? playElement : stopElement}\n    </button>\n  );\n}\n\nfunction Slider(props) {\n  return (\n    <input \n      type=\"range\" \n      id=\"tempo\" \n      min={props.minTempo} \n      max={props.maxTempo} \n      step=\"1\"\n      value={props.tempo}\n      onChange={props.onChange}/>\n  )\n}\n\nfunction SettingsButton(props) {\n\n  let classes = \"button-theme-toggle hamburger\";\n  if (props.isMenuOpen) {\n    classes = \"button-theme-toggle hamburger open\";\n  }\n    \n  return (\n      <button className={classes} name=\"menu-toggle\" onClick={props.onClick}>\n        <span></span>\n        <span></span>\n        <span></span>\n      </button>\n  ) \n}\n\n\n\n\n\n/***\n * \n * CANVAS\n * \n */\n\nclass Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {};\n    this.canvasRef = React.createRef();\n\n    this.resetCanvas = this.resetCanvas.bind(this);\n\n    window.onorientationchange = this.resetCanvas;\n    window.onresize = this.resetCanvas;\n  }\n  \n  componentDidMount() {\n    this.drawCanvas();\n    this.resetCanvas();\n  }\n  \n  componentDidUpdate() {\n    this.drawCanvas();\n  }\n\n  resetCanvas() {\n    this.canvasRef.current.width = window.innerWidth;\n    this.canvasRef.current.height = window.innerHeight;\n    window.scrollTo(0,0); \n  }\n  \n  drawCanvas() {\n    const canvas = this.canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    let color = \"#333\";\n    ctx.fillStyle = color;\n    ctx.globalAlpha = 1;\n\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    if (!this.props.isplaying) return;\n\n\n    let percentage = ((60/this.props.tempo) - (this.props.nbt - this.props.currenttime)) / (60/this.props.tempo);\n    if (percentage < 0) percentage = 0;\n    if (percentage > 1) percentage = 1;\n\n    color = this.props.color;\n    if (this.props.tick === true) {\n      //color = \"#eee\";\n      //percentage = 0;\n      //ctx.fillStyle = \"#ffaaff\";\n      //ctx.fill();    \n    }\n\n    console.log(percentage);\n\n    ctx.strokeStyle = color;\n    ctx.globalAlpha = 1-percentage; //this.props.alpha;\n    ctx.beginPath();\n    ctx.lineWidth = 100-percentage*100;\n    //ctx.arc(canvas.width/2, canvas.height/3, percentage * 200, 0 + Math.PI / 2*this.props.curBeat, Math.PI / 2*this.props.curBeat+1);\n    ctx.arc(canvas.width/2, canvas.height/4, percentage * 100, 0, Math.PI * 2);\n\n    ctx.stroke(); \n    //ctx.fillStyle = \"#ffaaff\";\n    //ctx.fill();    \n  }\n  \n  render() {\n    return (\n      <canvas ref={this.canvasRef} id=\"canvas\" height=\"100\" width=\"100\"/>  \n    );\n  }\n}\n\nclass Animation extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      tick: false,\n      lastNoteDrawn: null,\n      alpha: 0,\n      percentToNextNote: 0,\n      nextNoteTime: 0\n    }\n    \n    this.updateAnimation = this.updateAnimation.bind(this);\n  }\n  \n  componentDidMount() {\n    this.rAF = requestAnimationFrame(this.updateAnimation);\n  }\n  \n  updateAnimation() {\n    if (this.props.isplaying) {\n\n      let currentTime = this.props.audiocontext.currentTime;\n      let notesInQueue = this.props.queue;\n      let currentNote = this.state.lastNoteDrawn;\n\n  \n      while (notesInQueue.length && notesInQueue[0].time < currentTime) {\n          currentNote = notesInQueue[0];\n          notesInQueue.splice(0,1);\n      }\n\n      if (currentNote !== this.state.lastNoteDrawn) {\n        this.setState((state, props) => ({\n          tick: true,\n          alpha: 1,\n          percentToNextNote: 0,\n          nextNoteTime: currentNote.time + (60 / props.tempo)\n\n        }));\n      } else {\n\n        \n\n        this.setState((state, props) => ({\n          tick: false,\n          alpha: state.alpha - .1 < 0 ? 0 : state.alpha-.1,\n        }));\n      }\n    } else {\n        this.setState(state => ({\n          tick: false,\n          alpha: state.alpha - .1 < 0 ? 0 : state.alpha-.1\n        }));\n    }\n    \n    this.rAF = requestAnimationFrame(this.updateAnimation);\n  }\n  \n  componentWillUnmount() {\n    cancelAnimationFrame(this.rAF);\n  }\n  \n  render () {\n    return (\n      <Canvas tick={this.state.tick} color={this.props.color} nbt={this.props.nbt} curBeat={this.props.curBeat} bpb={this.props.bpb} queue={this.props.queue} tempo={this.props.tempo} nextnotetime={this.state.nextNoteTime} alpha={this.state.alpha} currenttime={this.props.audiocontext.currentTime} isplaying={this.props.isplaying}/>\n    )\n  }\n}\n\n\n\n\n\n\n\nclass TempoInputs extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"input-row\">\n        <div className=\"tempo-input-row\">\n          <button className=\"button-tempo\" name=\"decrement-tempo\" onClick={this.props.onClick}>–</button>\n          <div className=\"tempo-label\">\n            <span className=\"large\" id=\"tempo-label\">{this.props.tempo}</span> BPM\n          </div>\n          <button className=\"button-tempo\" name=\"increment-tempo\" onClick={this.props.onClick}>+</button>\n        </div>\n        <Slider onChange={this.props.onChange} tempo={this.props.tempo} maxTempo={this.props.maxTempo} minTempo={this.props.minTempo}/>\n      </div>\n    )\n  }\n}\n\nfunction RadioButton(props) {\n  var radioElement = <input \n                        className=\"checkbox\"\n                        type=\"radio\" \n                        id={props.id + \"-\" + props.value}\n                        name={props.id}\n                        value={props.value}\n                      />\n  if (props.default===props.id) {\n    radioElement = <input \n                      className=\"checkbox\"\n                      type=\"radio\" \n                      id={props.id + \"-\" + props.value}\n                      name={props.id}\n                      value={props.value}\n                      defaultChecked\n                    />\n  }\n  return (\n    <span>\n      {radioElement}\n      <label htmlFor={props.id + \"-\" + props.value}>{props.value}</label>\n    </span>\n  )\n}\n\nclass RadioInputs extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let label = this.props.label;\n    if (this.props.value > 1) {\n      if (this.props.id === \"beats\") {\n        label = \" beats per bar\";\n      } else {\n        label = \" clicks per beat\";\n      }\n    }\n\n    return (\n      <div className=\"radio-input-section\">\n        <div className=\"label\"><b>{this.props.value}</b>{label}</div>\n        <div className=\"radio-scrollable\"  onChange={this.props.onChange}>\n          <RadioButton value=\"1\" id={this.props.id} default=\"clicks\" />\n          <RadioButton value=\"2\" id={this.props.id}/>\n          <RadioButton value=\"3\" id={this.props.id}/>\n          <RadioButton value=\"4\" id={this.props.id} default=\"beats\" />\n          <RadioButton value=\"5\" id={this.props.id}/>\n          <RadioButton value=\"6\" id={this.props.id}/>\n          <RadioButton value=\"7\" id={this.props.id}/>\n          <RadioButton value=\"8\" id={this.props.id}/>\n          <RadioButton value=\"9\" id={this.props.id}/>\n          <RadioButton value=\"10\" id={this.props.id}/>\n          <RadioButton value=\"11\" id={this.props.id}/>\n          <RadioButton value=\"12\" id={this.props.id}/>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nclass Spinner extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <fieldset>\n        <label>{this.props.label}</label>\n        <div className=\"spinner\">\n          <button className=\"button-medium\" name={\"decrement-\" + this.props.id} onClick={this.props.onClick}>–</button>\n          {/*<input type=\"number\" id={this.props.id} value={this.props.value}></input>*/}\n          <span className=\"spinner-value\" id={this.props.id} >{this.props.value}</span>\n          <button className=\"button-medium\" name={\"increment-\" + this.props.id} onClick={this.props.onClick}>+</button>\n        </div>\n      </fieldset>\n    )\n  }\n}\n\n\n\n\n/***\n * \n * MAIN METRONOME COMPONENT\n * \n */\n\nclass Metronome extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      tempo: 120,\n      maxTempo: 240,\n      minTempo: 30,\n      beatsPerBar: 4,\n      maxBeats: 12,\n      minBeats: 1,\n      clicksPerBeat: 1,\n      maxClicks: 12,\n      minClicks: 1,\n      nextBeat: 0,\n      nextBeatTime: 0,\n      nextClick: 0,\n      isPlaying: false,\n      lookahead: 25,\n      scheduleAheadTime: .1,\n      nextNoteTime: 0,\n      noteLength: .1,\n      audioUnlocked: false,\n      noteQueue: [],      \n      isMenuOpen: false\n    };\n    \n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleTick = this.handleTick.bind(this);\n\n    var AudioContext = window.AudioContext // Default\n    || window.webkitAudioContext // Safari and old versions of Chrome\n    || false; \n\n    this.audioContext = new AudioContext();\n\n\n    this.timerWorker = worker();\n\n    this.timerWorker.onmessage = (e) => {\n        if (e.data === \"tick\") {\n            this.handleTick();\n        }\n        else\n            console.log(\"message: \" + e.data);\n    };\n\n\n    this.timerWorker.postMessage({\"interval\":this.state.lookahead});\n    \n  }\n\n  scheduleNote(note) {\n    var osc = this.audioContext.createOscillator();\n    var gainNode = this.audioContext.createGain();\n    osc.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    if (note.beat !== 0) {\n      osc.frequency.value = 440.0;\n    } else {\n      osc.frequency.value = 880.0;\n    }\n    if (note.click !== 0) {\n      osc.frequency.value = 330.0;\n    }\n\n    osc.start( this.state.nextNoteTime);\n    gainNode.gain.setTargetAtTime(0, this.state.nextNoteTime + this.state.noteLength, 0.015);\n    osc.stop( this.state.nextNoteTime + this.state.noteLength*2);\n\n  }\n\n  handleTick() {\n    while (this.state.nextNoteTime < this.audioContext.currentTime + this.state.scheduleAheadTime) {\n\n      let nextBeat = this.state.nextBeat;\n      let nextClick = this.state.nextClick;\n    \n      let nextNote = new Note(this.state.nextNoteTime, nextBeat, nextClick);\n\n      let secondsPerBeat = 60.0 / this.state.tempo;\n\n\n      let nextBT = this.state.nextBeatTime;\n\n      if (nextNote.click === 0) {\n        nextBT = nextNote.time + secondsPerBeat;\n\n      }\n\n      this.scheduleNote(nextNote);\n\n      if (this.state.clicksPerBeat > 1) {\n        nextClick++;\n        if (nextClick >= this.state.clicksPerBeat) {\n          nextClick = 0;\n          nextBeat++;\n          if (nextBeat >= this.state.beatsPerBar) {\n            nextBeat = 0;\n          }\n        }\n      } else {\n        nextBeat++;\n        nextClick = 0;\n        if (nextBeat >= this.state.beatsPerBar) {\n          nextBeat = 0;\n        }\n      }\n\n      \n\n      this.setState(state => {\n        const queue = state.noteQueue.concat(nextNote);\n        \n        return {\n          noteQueue: queue,\n          nextNoteTime: state.nextNoteTime + 1/state.clicksPerBeat * secondsPerBeat,\n          nextBeatTime: nextBT,\n          nextBeat: nextBeat,\n          nextClick: nextClick\n        };\n      });\n    }\n  }\n\n  fadeAnimation(id) {\n    document.getElementById(id).classList.remove(\"animation-fade\");\n    void document.getElementById(id).offsetWidth;\n    document.getElementById(id).classList.add(\"animation-fade\");\n  }\n  \n  handleClick(e) {\n\n    \n\n    if (e.target.name === \"increment-tempo\") {\n      this.fadeAnimation(\"tempo-label\");\n\n      let nextTempo = parseInt(this.state.tempo)+1;\n      this.setState(state => ({tempo: nextTempo > state.maxTempo ? state.tempo : nextTempo}));\n      return;\n    } else if (e.target.name === \"decrement-tempo\") {\n      this.fadeAnimation(\"tempo-label\");\n\n      let nextTempo = parseInt(this.state.tempo)-1;\n      this.setState(state => ({tempo: nextTempo < state.minTempo ? state.tempo : nextTempo}));\n      return;\n    }  else if (e.target.name === \"increment-beats\") {\n      this.fadeAnimation(\"beats\");\n      let nextBeats = parseInt(this.state.beatsPerBar)+1;\n      this.setState(state => ({beatsPerBar: nextBeats > state.maxBeats ? state.beatsPerBar : nextBeats}));\n      return;\n    } else if (e.target.name === \"decrement-beats\") {\n      this.fadeAnimation(\"beats\");\n      let nextBeats = parseInt(this.state.beatsPerBar)-1;\n      this.setState(state => ({beatsPerBar: nextBeats < state.minBeats ? state.beatsPerBar : nextBeats}));\n      return;\n    } else if (e.target.name === \"increment-clicks\") {\n      this.fadeAnimation(\"clicks\");\n      let nextClicks = parseInt(this.state.clicksPerBeat)+1;\n      this.setState(state => ({clicksPerBeat: nextClicks > state.maxClicks ? state.clicksPerBeat : nextClicks}));\n      return;\n    } else if (e.target.name === \"decrement-clicks\") {\n      this.fadeAnimation(\"clicks\");\n      let nextClicks = parseInt(this.state.clicksPerBeat)-1;\n      this.setState(state => ({clicksPerBeat: nextClicks < state.minClicks ? state.clicksPerBeat : nextClicks}));\n      return;\n    }\n\n    //\n    /*var AudioContext = window.AudioContext // Default\n    || window.webkitAudioContext // Safari and old versions of Chrome\n    || false; */\n\n    //this.audioContext.close();\n\n    //let AudioContext = window.AudioContext || window.webkitAudioContext;\n    //this.audioContext = new AudioContext();\n    console.log(this.audioContext);\n    /////// the resume line causes crashes?\n    //return;\n\n    //this.audioContext.resume();\n\n\n\n    //this.audioContext.onstatechange = () => console.log(this.audioContext.state); // running\n\n\n\n    this.timerWorker.postMessage(this.state.isPlaying ? \"stop\" : \"start\");\n\n    if (!this.state.audioUnlocked) {\n      var buffer = this.audioContext.createBuffer(1, 1, 22050);\n      var node = this.audioContext.createBufferSource();\n      node.buffer = buffer;\n      node.start(this.audioContext.currentTime);\n    }\n\n    this.setState(state => ({\n      isPlaying: !state.isPlaying,\n      audioUnlocked: true,\n      noteQueue: [],\n      nextNoteTime: 0,\n      nextBeat: 0,\n      nextClick: 0\n    }));\n  }\n  \n  handleChange(e) {\n    if (e.target.name === \"beats\") {\n      this.setState({beatsPerBar: e.target.value});\n    } else if (e.target.name===\"clicks\") {\n      this.setState({clicksPerBeat: e.target.value});\n    } else {\n      this.fadeAnimation(\"tempo-label\");\n\n      console.log(e.target.value);\n      this.setState({tempo: e.target.value});\n    }\n\n  }\n\n  \n  \n  render() {\n    \n\n    return (\n      <div className=\"metronome\">\n        <Animation tempo={this.state.tempo} color={this.props.color} nbt={this.state.nextBeatTime} curBeat={this.state.nextBeat} bpb={this.state.beatsPerBar} isplaying={this.state.isPlaying} queue={this.state.noteQueue} audiocontext={this.audioContext} />\n        <div className=\"inputs\">\n        <Button \n            value={this.state.isPlaying ? \"Stop\" : \"Start\"}\n            onClick={this.handleClick} />\n          <TempoInputs onChange={this.handleChange} tempo={this.state.tempo} onClick={this.handleClick} maxTempo={this.state.maxTempo} minTempo={this.state.minTempo} />\n          \n          <div className=\"input-row\">\n            <div className=\"spinner-inputs\">\n              <Spinner label=\"Beats per bar\" id=\"beats\" onClick={this.handleClick} value={this.state.beatsPerBar} />\n              <Spinner label=\"Clicks per beat\" id=\"clicks\" onClick={this.handleClick} value={this.state.clicksPerBeat} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n\n\nclass Navbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  \n\n  render() {\n\n    /*let icon = <FontAwesomeIcon icon={faEllipsisV} />\n    if (this.props.isMenuOpen) {\n      icon = <FontAwesomeIcon icon={faTimes} />\n    }*/\n    \n    return (\n      <div className=\"navbar\">\n\n        <div className=\"logo\">\n          Zen Metronome\n        </div>\n        {/*<button className=\"button-theme-toggle\" name=\"menu-toggle\" onClick={this.props.onClick}>\n          {icon}\n        </button>*/}\n          <SettingsButton onClick={this.props.onClick} isMenuOpen={this.props.isMenuOpen} />\n\n      </div>\n\n    ) \n  }\n}\n\nclass MobileMenu extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let classes = \"mobile-menu\";\n    if (this.props.isMenuOpen) {\n      classes += \" mobile-menu-open\";\n    }\n\n    \n\n    return(\n      <div className={classes}>\n        <div className=\"menu-row\">\n          <button className=\"color color-purple\" value=\"#d7d\" onClick={this.props.onClick}>{this.props.color === \"#d7d\" ? <FontAwesomeIcon icon={faCheck} size=\"xs\"/> : null}</button>\n          <button className=\"color color-blue\" value=\"#77d\" onClick={this.props.onClick}>{this.props.color === \"#77d\" ? <FontAwesomeIcon icon={faCheck} size=\"xs\"/> : null}</button>\n          <button className=\"color color-green\" value=\"#7d7\" onClick={this.props.onClick}>{this.props.color === \"#7d7\" ? <FontAwesomeIcon icon={faCheck} size=\"xs\"/> : null}</button>\n          <button className=\"color color-grey\" value=\"#777\" onClick={this.props.onClick}>{this.props.color === \"#777\" ? <FontAwesomeIcon icon={faCheck} size=\"xs\"/> : null}</button>\n        </div>\n        <div className=\"menu-row\">\n          <a href=\"https://aviolin.github.io/metronome\" target=\"_blank\">View the source on Github</a>\n        </div>\n      </div>\n    ) \n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      color: \"#d7d\",\n      colorHighlight: \"#f7f\",\n      isMenuOpen: false\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    if (e.target.name === \"menu-toggle\") {\n      this.setState(state => ({\n        isMenuOpen: !state.isMenuOpen\n      }));\n      return;\n    }\n    \n    this.updateColors(e.target.value, e.target.value);\n   \n  }\n\n  updateColors(col, colHighlight) {\n    console.log(\"HERE\");\n    let root = document.documentElement;\n\n    root.style.setProperty('--accentcolor', col);\n    root.style.setProperty('--accentcolorhighlight', colHighlight);\n\n    this.setState(state => ({\n      color: col,\n      colorHighlight: colHighlight,\n      isMenuOpen: !state.isMenuOpen\n    }));\n  }\n\n  render() {\n    return(\n      <div>\n        <Navbar onClick={this.handleClick} isMenuOpen={this.state.isMenuOpen}/>\n        <MobileMenu isMenuOpen={this.state.isMenuOpen} onClick={this.handleClick} color={this.state.color} />\n        <Metronome color={this.state.color} colorHighlight={this.state.colorHighlight} />\n      </div>  \n    ) \n  }\n}\n\n\n\n\n\n\n\n\n\n\n\nclass Note {\n  constructor(time = 0, beat = 0, click = 0) {\n    this.time = time;\n    this.beat = beat;\n    this.click = click;\n  }\n}\n\n\n// ========================================\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}